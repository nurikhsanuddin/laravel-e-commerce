import{m as P,j as e,L as C,$ as B}from"./app-CL8bQxlr.js";import{c as m}from"./index-BaUo0c8x.js";import{B as c}from"./badge-BrXa6Sqe.js";import{c as x,B as o,f as t}from"./createLucideIcon-B3Iz-h8N.js";import{C as r}from"./card-Bi6v5dWj.js";import{I as S}from"./input-B0ncZNis.js";import{L}from"./label-DzrpR254.js";import{C as U}from"./chevron-left-Cp4zzHqL.js";import{C as D}from"./circle-check-big-C-W7WQ_J.js";import{P as M}from"./package-6DisaeLp.js";import{T as F}from"./truck-BB5-vzdL.js";import{f as p}from"./format-CBpsKyOP.js";import"./index-C0ENdGIb.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M8 4H6a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2",key:"4jdomd"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v4",key:"3hqy98"}],["path",{d:"M21 14H11",key:"1bme5i"}],["path",{d:"m15 10-4 4 4 4",key:"5dvupr"}]],T=x("ClipboardCopy",$);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],O=x("Upload",I);function Y({order:a}){const{data:h,setData:u,post:j,processing:g,errors:n,reset:f,progress:i}=P({payment_proof:null}),y=s=>{s.target.files&&s.target.files[0]&&u("payment_proof",s.target.files[0])},b=s=>{s.preventDefault(),j(route("orders.payment-proof",a.id),{onSuccess:()=>{f("payment_proof"),m.success("Payment proof uploaded successfully")},onError:()=>{m.error("Failed to upload payment proof")}})},N=s=>{switch(s.toLowerCase()){case"menunggu":return"bg-amber-100 text-amber-800";case"diproses":return"bg-blue-100 text-blue-800";case"driver_telah_ditugaskan":return"bg-purple-100 text-purple-800";case"terkirim":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=s=>{switch(s.toLowerCase()){case"menunggu":return"bg-amber-100 text-amber-800";case"terbayar":return"bg-green-100 text-green-800";case"return":return"bg-amber-100 text-amber-800";case"diproses":return"bg-blue-100 text-blue-800";case"gagal":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},v=s=>{switch(s){case"credit_card":return"Credit Card";case"bank_transfer":return"Bank Transfer";case"cash_on_delivery":return"Cash on Delivery";default:return s}},w=a.total_price-a.shipping_cost,_=a.payment_status.toLowerCase()==="menunggu";return e.jsxs(e.Fragment,{children:[e.jsx(C,{title:`Order #${a.id}`}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"mb-8",children:e.jsx(o,{variant:"outline",asChild:!0,children:e.jsxs(B,{href:route("orders.index"),children:[e.jsx(U,{className:"mr-2 h-4 w-4"}),"Kembali ke Pesanan"]})})}),e.jsxs("div",{className:"mb-8 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["Order #",a.id]}),e.jsxs("p",{className:"text-gray-500",children:["Dibuat Pada ",p(new Date(a.created_at),"PPP")]})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(c,{className:N(a.status),children:["Pesanan: ",a.status.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase())]}),e.jsxs(c,{className:d(a.payment_status),children:["Pembayaran: ",a.payment_status.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase())]})]})]}),e.jsxs("div",{className:"grid gap-8 lg:grid-cols-12",children:[e.jsxs("div",{className:"lg:col-span-8",children:[e.jsxs(r,{className:"mb-8",children:[e.jsx("div",{className:"border-b p-6",children:e.jsx("h2",{className:"text-xl font-semibold",children:"Rincian Pesanan"})}),e.jsx("div",{className:"p-6",children:e.jsx("div",{className:"space-y-6",children:a.items.map(s=>e.jsxs("div",{className:"flex border-b pb-6 last:border-0 last:pb-0",children:[e.jsx("div",{className:"h-20 w-20 flex-shrink-0 rounded-md bg-gray-100",children:s.image?e.jsx("img",{src:s.image,alt:s.product_name,className:"h-full w-full rounded-md object-cover"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center",children:e.jsx("span",{className:"text-gray-400",children:"No image"})})}),e.jsxs("div",{className:"ml-4 flex flex-1 flex-col justify-between",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s.product_name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Price: ",t(s.price)]})]}),e.jsxs(e.Fragment,{children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Jumlah : ",s.quantity]}),e.jsx("p",{className:"font-medium",children:t(s.price*s.quantity)})]})]})]},s.id))})})]}),e.jsxs(r,{children:[e.jsx("div",{className:"border-b p-6",children:e.jsx("h2",{className:"text-xl font-semibold",children:"Pelacakan Pesanan"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-0 left-4 h-full w-px bg-gray-200"}),e.jsx("div",{className:"space-y-8",children:a.tracking.map((s,l)=>e.jsxs("div",{className:"relative pl-10",children:[e.jsx("div",{className:"bg-primary absolute top-1 left-0 flex h-8 w-8 items-center justify-center rounded-full text-white",children:l===0?e.jsx(D,{className:"h-5 w-5"}):l===1?e.jsx(M,{className:"h-5 w-5"}):l===2?e.jsx(T,{className:"h-5 w-5"}):e.jsx(F,{className:"h-5 w-5"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium",children:s.status.replace(/_/g," ").replace(/\b\w/g,k=>k.toUpperCase())}),e.jsx("p",{className:"text-gray-500",children:s.description}),e.jsx("p",{className:"mt-1 text-xs text-gray-400",children:p(new Date(s.created_at),"PPP p")})]})]},l))})]})})]})]}),e.jsxs("div",{className:"lg:col-span-4",children:[e.jsxs(r,{className:"mb-6",children:[e.jsx("div",{className:"border-b p-6",children:e.jsx("h2",{className:"text-xl font-semibold",children:"Ringkasan Pesanan"})}),e.jsx("div",{className:"p-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Subtotal"}),e.jsx("span",{children:t(w)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{children:"Ongkir"}),e.jsx("span",{children:t(a.shipping_cost)})]}),e.jsxs("div",{className:"flex justify-between border-t pt-2 font-medium",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:t(a.total_price)})]})]})})]}),e.jsxs(r,{className:"mb-6",children:[e.jsx("div",{className:"border-b p-6",children:e.jsx("h2",{className:"text-xl font-semibold",children:"Informasi Pesanan"})}),e.jsx("div",{className:"p-6",children:e.jsxs("dl",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Payment Method"}),e.jsx("dd",{children:v(a.payment_method)})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Transfer"}),e.jsx("dd",{children:"BCA : 154545651564"}),e.jsx("dt",{className:"text-sm text-gray-500",children:"Silahkan lakukan pembayaran ke nomor rekening di atas"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm text-gray-500",children:"Shipping Address"}),e.jsx("dd",{className:"whitespace-pre-wrap",children:a.shipping_address})]})]})})]}),e.jsxs(r,{children:[e.jsx("div",{className:"border-b p-6",children:e.jsx("h2",{className:"text-xl font-semibold",children:"Bukti Pembayaran"})}),e.jsx("div",{className:"p-6",children:a.payment_proof?e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-gray-500",children:"Bukti Pembayaran Berhasi Diupload."}),e.jsx("div",{className:"overflow-hidden rounded-md border",children:e.jsx("img",{src:`/storage/${a.payment_proof}`,alt:"Payment proof",className:"h-auto w-full"})}),e.jsxs(c,{className:d(a.payment_status),children:["Status: ",a.payment_status.replace(/_/g," ").replace(/\b\w/g,s=>s.toUpperCase())]})]}):_?e.jsxs("form",{onSubmit:b,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(L,{htmlFor:"payment_proof",children:"Upload Bukti Pembayaran"}),e.jsx(S,{id:"payment_proof",type:"file",accept:"image/*",onChange:y,className:n.payment_proof?"border-red-500":""}),n.payment_proof&&e.jsx("p",{className:"text-sm text-red-500",children:n.payment_proof})]}),i&&e.jsx("div",{className:"h-2.5 w-full rounded-full bg-gray-200",children:e.jsx("div",{className:"bg-primary h-2.5 rounded-full",style:{width:`${i.percentage}%`}})}),e.jsxs(o,{type:"submit",className:"w-full",disabled:g||!h.payment_proof,children:[e.jsx(O,{className:"mr-2 h-4 w-4"}),"Konfirmasi"]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Silakan unggah bukti pembayaran (struk atau konfirmasi transfer). Format yang diterima: JPG, PNG (maks 2MB)."})]}):e.jsx("div",{className:"py-4 text-center",children:e.jsx("p",{className:"text-gray-500",children:"Anda sepertinya telah mengirim bukti pembayaran."})})})]})]})]})]})})]})}export{Y as default};
