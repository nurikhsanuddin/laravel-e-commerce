import{r,a as C,j as e,L as I,$ as t}from"./app-CL8bQxlr.js";import{c as d}from"./index-BaUo0c8x.js";import{H as U,C as R}from"./CartDrawer-BVaiULN8.js";import{B as p}from"./badge-BrXa6Sqe.js";import{B as l,f as W}from"./createLucideIcon-B3Iz-h8N.js";import{C as _}from"./card-Bi6v5dWj.js";import{I as S}from"./input-B0ncZNis.js";import{S as M,U as T,M as $}from"./user-BR74AFwy.js";import{S as P}from"./shopping-cart-y9q7ExdO.js";import{X as q}from"./x-UdVWHoq3.js";import{C as J}from"./chevron-right-DjiEVRJu.js";import{T as Q}from"./truck-BB5-vzdL.js";import{P as V}from"./package-6DisaeLp.js";function de({featuredProducts:u,categories:L,auth:i}){const[O,o]=r.useState(!1),[z,K]=r.useState([]),[x,j]=r.useState(0),[g,F]=r.useState(!1),[f,D]=r.useState(!1),[n,A]=r.useState(""),[b,E]=r.useState(u),[m,G]=r.useState(null),[h,y]=r.useState([]);r.useEffect(()=>{c()},[]),r.useEffect(()=>{N()},[n,m,u]);const c=async()=>{try{const s=await C.get(route("cart.get")),{cart:a}=s.data;K(Object.values(a)),j(Object.keys(a).length)}catch(s){console.error("Error fetching cart",s)}},B=async s=>{try{const a=await C.post(route("cart.add"),{product_id:s,quantity:1});j(a.data.cartCount),d.success("Product added to cart!"),o(!0),c()}catch(a){console.error("Error adding to cart",a),a.response&&a.response.status===422?d.error("Not enough stock available"):d.error("Failed to add product to cart")}},H=s=>{h.includes(s)?(y(h.filter(a=>a!==s)),d.success("Removed from wishlist")):(y([...h,s]),d.success("Added to wishlist"))},N=()=>{let s=[...u];n&&(s=s.filter(a=>a.name.toLowerCase().includes(n.toLowerCase())||a.description&&a.description.toLowerCase().includes(n.toLowerCase()))),m&&(s=s.filter(a=>a.category_id===m)),E(s)},v=s=>{A(s.target.value)},k=s=>{s.preventDefault(),N()},w=s=>{G(s)};return e.jsxs(e.Fragment,{children:[e.jsx(I,{title:"PT. Menara Galvalum"}),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-white shadow-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(t,{href:route("home"),className:"text-primary flex-shrink-0 text-xl font-bold sm:text-2xl",children:"PT. Menara Galvalum"}),e.jsx("div",{className:"mx-4 hidden flex-1 items-center md:flex lg:mx-6",children:e.jsxs("form",{onSubmit:k,className:"relative w-full max-w-xl",children:[e.jsx(S,{type:"text",placeholder:"Search for products...",className:"w-full pl-10",value:n,onChange:v}),e.jsx(M,{className:"absolute top-2.5 left-3 h-5 w-5 text-gray-400"}),e.jsx(l,{type:"submit",className:"absolute top-0 right-0 rounded-l-none",children:"Search"})]})}),e.jsxs("nav",{className:"hidden items-center gap-4 md:flex lg:gap-6",children:[i.user?e.jsxs(e.Fragment,{children:[e.jsx(t,{href:route("orders.index"),className:"hover:text-primary text-gray-700",children:"My Orders"}),i.user.role==="admin"&&e.jsx(t,{href:route("dashboard"),className:"hover:text-primary text-gray-700",children:"Dashboard"}),e.jsxs("div",{className:"relative",children:[e.jsxs(l,{variant:"ghost",onClick:()=>D(!f),className:"flex items-center gap-2",children:[e.jsx(T,{className:"h-5 w-5"}),e.jsx("span",{className:"hidden sm:inline",children:i.user.name})]}),f&&e.jsx("div",{className:"ring-opacity-5 absolute right-0 mt-2 w-48 rounded-md bg-white py-1 shadow-lg ring-1 ring-black",children:e.jsx(t,{href:route("logout"),method:"post",as:"button",className:"block w-full px-4 py-2 text-left text-sm text-gray-700 hover:bg-gray-100",children:"Logout"})})]})]}):e.jsx(e.Fragment,{children:e.jsx(t,{href:route("login"),className:"hover:text-primary text-gray-700",children:"Login"})}),e.jsxs(l,{variant:"ghost",onClick:()=>{c(),o(!0)},className:"relative",children:[e.jsx(P,{className:"h-5 w-5 sm:h-6 sm:w-6"}),x>0&&e.jsx(p,{className:"absolute -top-2 -right-2 px-1.5 py-0.5",children:x})]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 md:hidden",children:[e.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>{c(),o(!0)},className:"relative",children:[e.jsx(P,{className:"h-5 w-5"}),x>0&&e.jsx(p,{className:"absolute -top-2 -right-2 px-1.5 py-0.5 text-xs",children:x})]}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>F(!g),children:g?e.jsx(q,{className:"h-5 w-5"}):e.jsx($,{className:"h-5 w-5"})})]})]}),e.jsx("div",{className:"mt-3 md:hidden",children:e.jsxs("form",{onSubmit:k,className:"relative",children:[e.jsx(S,{type:"text",placeholder:"Search products...",className:"h-9 w-full pl-9 text-sm",value:n,onChange:v}),e.jsx(M,{className:"absolute top-2 left-2.5 h-4.5 w-4.5 text-gray-400"}),e.jsx(l,{type:"submit",size:"sm",className:"absolute top-0 right-0 h-9 rounded-l-none",children:"Search"})]})}),g&&e.jsx("div",{className:"mt-3 border-t border-gray-200 py-2 md:hidden",children:e.jsx("nav",{className:"flex flex-col",children:i.user?e.jsxs(e.Fragment,{children:[e.jsx(t,{href:route("orders.index"),className:"hover:text-primary py-2 text-sm text-gray-700",children:"My Orders"}),i.user.role==="admin"&&e.jsx(t,{href:route("dashboard"),className:"hover:text-primary py-2 text-sm text-gray-700",children:"Dashboard"}),e.jsxs("div",{className:"flex items-center gap-2 py-2 text-sm",children:[e.jsx(T,{className:"h-4 w-4"}),e.jsx("span",{children:i.user.name})]}),e.jsx(t,{href:route("logout"),method:"post",as:"button",className:"hover:text-primary py-2 text-sm text-gray-700",children:"Logout"})]}):e.jsx(e.Fragment,{children:e.jsx(t,{href:route("login"),className:"hover:text-primary py-2 text-sm text-gray-700",children:"Login"})})})})]})}),e.jsx("section",{className:"from-primary to-primary-dark bg-gradient-to-r py-10 text-white sm:py-12 md:py-16",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h1",{className:"mb-4 text-3xl font-bold sm:mb-6 sm:text-4xl md:text-5xl",children:"PT. Menara Galvalum"}),e.jsxs("p",{className:"mx-auto mb-6 max-w-2xl text-base sm:mb-8 sm:text-lg md:text-xl",children:["Selamat datang di PT. Menara Galvalum, penyedia material konstruksi berbasis galvalum yang berkualitas dan inovatif. Temukan solusi terbaik untuk kebutuhan konstruksi Anda dengan produk unggulan kami yang kuat, tahan lama, dan ramah lingkungan."," "]}),e.jsx(l,{size:"lg",asChild:!0,className:"text-primary bg-white hover:bg-gray-100",children:e.jsx("a",{href:"#products",children:"Pesan Sekarang"})})]})}),e.jsx("section",{className:"bg-white py-6 sm:py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold sm:mb-6 sm:text-2xl",children:"Kategori"}),e.jsxs("div",{className:"scrollbar-hide -mx-4 flex gap-2 overflow-x-auto px-4 pb-2 sm:gap-3 md:gap-4",children:[e.jsx(l,{variant:m===null?"default":"outline",onClick:()=>w(null),className:"text-sm whitespace-nowrap",size:"sm",children:"Semua"}),L.map(s=>e.jsx(l,{variant:m===s.id?"default":"outline",onClick:()=>w(s.id),className:"text-sm whitespace-nowrap",size:"sm",children:s.name},s.id))]})]})}),e.jsx("section",{id:"products",className:"py-6 sm:py-8 md:py-10",children:e.jsxs("div",{className:"container mx-auto px-3 sm:px-4",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between sm:mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold sm:text-xl md:text-2xl",children:"Featured Products"}),m===null&&e.jsx(l,{variant:"outline",size:"sm",asChild:!0,className:"text-xs sm:text-sm",children:e.jsxs(t,{href:"#",className:"flex items-center",children:["View All ",e.jsx(J,{className:"ml-1 h-3 w-3 sm:h-4 sm:w-4"})]})})]}),b.length===0?e.jsx("div",{className:"py-8 text-center",children:e.jsx("p",{className:"text-sm text-gray-500 sm:text-base",children:"No products found. Try a different search."})}):e.jsx("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 md:grid-cols-3 md:gap-4 lg:grid-cols-4 lg:gap-5",children:b.map(s=>e.jsxs(_,{className:"flex h-full flex-col overflow-hidden border-gray-200",children:[e.jsxs(t,{href:route("products.show",s.id),className:"group relative aspect-square overflow-hidden bg-gray-100",children:[s.image?e.jsx("img",{src:s.image,alt:s.name,className:"h-full w-full object-cover transition-transform group-hover:scale-105",loading:"lazy"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gray-200",children:e.jsx("span",{className:"text-xs text-gray-400",children:"No image"})}),e.jsx("div",{className:"absolute top-2 right-2 opacity-80 transition-opacity",children:e.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-white shadow hover:bg-gray-100 sm:h-7 sm:w-7","aria-label":"Add to wishlist",onClick:a=>{a.preventDefault(),H(s.id)},children:e.jsx(U,{className:`h-3 w-3 sm:h-3.5 sm:w-3.5 ${h.includes(s.id)?"fill-red-500 text-red-500":"text-gray-600"}`})})}),s.stock<=5&&s.stock>0&&e.jsx("div",{className:"absolute top-2 left-2",children:e.jsxs(p,{variant:"destructive",className:"px-1 py-0.5 text-xs",children:["Sisa ",s.stock]})})]}),e.jsxs("div",{className:"flex flex-grow flex-col p-2 sm:p-3",children:[e.jsxs("div",{className:"mb-1",children:[s.category&&e.jsx("span",{className:"text-xs text-gray-500",children:s.category}),e.jsx(t,{href:route("products.show",s.id),children:e.jsx("h3",{className:"hover:text-primary line-clamp-2 text-xs font-medium sm:text-sm",children:s.name})})]}),e.jsx("p",{className:"mb-2 line-clamp-2 text-xs text-gray-600 sm:mb-3",children:s.description}),e.jsxs("div",{className:"mt-auto flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-bold sm:text-sm md:text-base",children:W(s.price).replace(",00","")}),e.jsx(l,{onClick:a=>{a.preventDefault(),B(s.id)},disabled:s.stock<=0,variant:s.stock<=0?"outline":"default",size:"sm",className:"h-7 w-full text-xs",children:s.stock>0?"Masukkan Keranjang":"Out of Stock"})]})]})]},s.id))})]})}),e.jsx("section",{className:"bg-white py-8 sm:py-10 md:py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"mb-8 text-center text-xl font-semibold sm:mb-10 sm:text-2xl",children:"Mengapa Memilih Kami?"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 md:gap-1",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-primary/10 mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full sm:mb-4 sm:h-16 sm:w-16",children:e.jsx(Q,{className:"text-primary h-6 w-6 sm:h-8 sm:w-8"})}),e.jsx("h3",{className:"mb-1 text-base font-semibold sm:mb-2 sm:text-lg",children:"Pengiriman Cepat"}),e.jsx("p",{className:"text-xs text-gray-600 sm:text-sm",children:"Kami menyediakan layanan pengiriman cepat dan tepat waktu ke berbagai wilayah dengan jaminan keamanan produk."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-primary/10 mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full sm:mb-4 sm:h-16 sm:w-16",children:e.jsx(V,{className:"text-primary h-6 w-6 sm:h-8 sm:w-8"})}),e.jsx("h3",{className:"mb-1 text-base font-semibold sm:mb-2 sm:text-lg",children:"Kualitas Terjamin"}),e.jsx("p",{className:"text-xs text-gray-600 sm:text-sm",children:"Produk kami dibuat dengan standar tinggi, menggunakan bahan berkualitas untuk memastikan ketahanan dan daya tahan terbaik."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-primary/10 mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full",children:e.jsx("svg",{className:"text-primary h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),e.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Transaksi Aman"}),e.jsx("p",{className:"text-gray-600",children:"Kami menyediakan berbagai metode pembayaran yang aman dan terenkripsi untuk kenyamanan serta perlindungan pelanggan."})]})]})]})}),e.jsx("footer",{className:"bg-gray-800 py-12 text-white",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-xl font-semibold",children:"PT. Menara Galvalum"}),e.jsxs("p",{className:"text-gray-300",children:["PT. Menara Galvalum adalah perusahaan yang bergerak di bidang produksi dan distribusi material galvalum untuk berbagai kebutuhan konstruksi. Dengan pengalaman dan inovasi yang terus berkembang, kami berkomitmen untuk menyediakan produk berkualitas tinggi yang sesuai dengan standar industri."," "]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 text-lg font-semibold",children:"Hubungi Kami"}),e.jsxs("address",{className:"text-gray-300 not-italic",children:[e.jsx("p",{children:"Jl. Adi Sucipto"}),e.jsx("p",{children:"Karangasem, Kec. Laweyan, Kota Surakarta, Jawa Tengah 57145"}),e.jsx("p",{children:"Telp : 0852-9006-0664"})]})]})]})})}),e.jsx(R,{isOpen:O,onClose:()=>o(!1),items:z,fetchCart:c})]})]})}export{de as default};
