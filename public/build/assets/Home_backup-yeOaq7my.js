import{r as t,a as v,j as e,L as K,$ as r}from"./app-CL8bQxlr.js";import{c as d}from"./index-BaUo0c8x.js";import{H as B,C as D}from"./CartDrawer-BVaiULN8.js";import{B as u}from"./badge-BrXa6Sqe.js";import{B as l,f as H}from"./createLucideIcon-B3Iz-h8N.js";import{C as Q}from"./card-Bi6v5dWj.js";import{I as w}from"./input-B0ncZNis.js";import{S as k,U as C,M as R}from"./user-BR74AFwy.js";import{S}from"./shopping-cart-y9q7ExdO.js";import{X as U}from"./x-UdVWHoq3.js";import{C as W}from"./chevron-right-DjiEVRJu.js";import{T as _}from"./truck-BB5-vzdL.js";import{P as $}from"./package-6DisaeLp.js";function ne({featuredProducts:g,categories:M,auth:i}){const[P,x]=t.useState(!1),[T,F]=t.useState([]),[o,j]=t.useState(0),[p,L]=t.useState(!1),[n,z]=t.useState(""),[f,O]=t.useState(g),[m,A]=t.useState(null),[h,y]=t.useState([]);t.useEffect(()=>{c()},[]),t.useEffect(()=>{I()},[n,m,g]);const c=async()=>{try{const s=await v.get(route("cart.get")),{cart:a}=s.data;F(Object.values(a)),j(Object.keys(a).length)}catch(s){console.error("Error fetching cart",s)}},E=async s=>{try{const a=await v.post(route("cart.add"),{product_id:s,quantity:1});j(a.data.cartCount),d.success("Product added to cart!"),x(!0),c()}catch(a){console.error("Error adding to cart",a),a.response&&a.response.status===422?d.error("Not enough stock available"):d.error("Failed to add product to cart")}},G=s=>{h.includes(s)?(y(h.filter(a=>a!==s)),d.success("Removed from wishlist")):(y([...h,s]),d.success("Added to wishlist"))},I=()=>{let s=[...g];n&&(s=s.filter(a=>a.name.toLowerCase().includes(n.toLowerCase())||a.description&&a.description.toLowerCase().includes(n.toLowerCase()))),m&&(s=s.filter(a=>a.category_id===m)),O(s)},N=s=>{z(s.target.value)},b=s=>{A(s)};return e.jsxs(e.Fragment,{children:[e.jsx(K,{title:"PT. Menara Galvalum"}),e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("header",{className:"sticky top-0 z-40 bg-white shadow-sm",children:e.jsxs("div",{className:"container mx-auto px-4 py-3 sm:py-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{href:route("home"),className:"text-primary flex-shrink-0 text-xl font-bold sm:text-2xl",children:"PT. Menara Galvalum"}),e.jsx("div",{className:"mx-4 hidden flex-1 items-center md:flex lg:mx-6",children:e.jsxs("div",{className:"relative w-full max-w-xl",children:[e.jsx(w,{type:"text",placeholder:"Search for products...",className:"w-full pl-10",value:n,onChange:N}),e.jsx(k,{className:"absolute top-2.5 left-3 h-5 w-5 text-gray-400"})]})}),e.jsxs("nav",{className:"hidden items-center gap-4 md:flex lg:gap-6",children:[i.user?e.jsxs(e.Fragment,{children:[e.jsx(r,{href:route("orders.index"),className:"hover:text-primary text-gray-700",children:"My Orders"}),i.user.role==="admin"&&e.jsx(r,{href:route("dashboard"),className:"hover:text-primary text-gray-700",children:"Dashboard"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"h-5 w-5"}),e.jsx("span",{className:"hidden sm:inline",children:i.user.name})]})]}):e.jsx(e.Fragment,{children:e.jsx(r,{href:route("login"),className:"hover:text-primary text-gray-700",children:"Login"})}),e.jsxs(l,{variant:"ghost",onClick:()=>{c(),x(!0)},className:"relative",children:[e.jsx(S,{className:"h-5 w-5 sm:h-6 sm:w-6"}),o>0&&e.jsx(u,{className:"absolute -top-2 -right-2 px-1.5 py-0.5",children:o})]})]}),e.jsxs("div",{className:"flex items-center gap-1 sm:gap-2 md:hidden",children:[e.jsxs(l,{variant:"ghost",size:"sm",onClick:()=>{c(),x(!0)},className:"relative",children:[e.jsx(S,{className:"h-5 w-5"}),o>0&&e.jsx(u,{className:"absolute -top-2 -right-2 px-1.5 py-0.5 text-xs",children:o})]}),e.jsx(l,{variant:"ghost",size:"sm",onClick:()=>L(!p),children:p?e.jsx(U,{className:"h-5 w-5"}):e.jsx(R,{className:"h-5 w-5"})})]})]}),e.jsx("div",{className:"mt-3 md:hidden",children:e.jsxs("div",{className:"relative",children:[e.jsx(w,{type:"text",placeholder:"Search products...",className:"h-9 w-full pl-9 text-sm",value:n,onChange:N}),e.jsx(k,{className:"absolute top-2 left-2.5 h-4.5 w-4.5 text-gray-400"})]})}),p&&e.jsx("div",{className:"mt-3 border-t border-gray-200 py-2 md:hidden",children:e.jsx("nav",{className:"flex flex-col",children:i.user?e.jsxs(e.Fragment,{children:[e.jsx(r,{href:route("orders.index"),className:"hover:text-primary py-2 text-sm text-gray-700",children:"My Orders"}),i.user.role==="admin"&&e.jsx(r,{href:route("dashboard"),className:"hover:text-primary py-2 text-sm text-gray-700",children:"Dashboard"}),e.jsxs("div",{className:"flex items-center gap-2 py-2 text-sm",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{children:i.user.name})]})]}):e.jsx(e.Fragment,{children:e.jsx(r,{href:route("login"),className:"hover:text-primary py-2 text-sm text-gray-700",children:"Login"})})})})]})}),e.jsx("section",{className:"from-primary to-primary-dark bg-gradient-to-r py-10 text-white sm:py-12 md:py-16",children:e.jsxs("div",{className:"container mx-auto px-4 text-center",children:[e.jsx("h1",{className:"mb-4 text-3xl font-bold sm:mb-6 sm:text-4xl md:text-5xl",children:"PT. Menara Galvalum"}),e.jsxs("p",{className:"mx-auto mb-6 max-w-2xl text-base sm:mb-8 sm:text-lg md:text-xl",children:["Selamat datang di PT. Menara Galvalum, penyedia material konstruksi berbasis galvalum yang berkualitas dan inovatif. Temukan solusi terbaik untuk kebutuhan konstruksi Anda dengan produk unggulan kami yang kuat, tahan lama, dan ramah lingkungan."," "]}),e.jsx(l,{size:"lg",asChild:!0,className:"text-primary bg-white hover:bg-gray-100",children:e.jsx("a",{href:"#products",children:"Pesan Sekarang"})})]})}),e.jsx("section",{className:"bg-white py-6 sm:py-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"mb-4 text-xl font-semibold sm:mb-6 sm:text-2xl",children:"Kategori"}),e.jsxs("div",{className:"scrollbar-hide -mx-4 flex gap-2 overflow-x-auto px-4 pb-2 sm:gap-3 md:gap-4",children:[e.jsx(l,{variant:m===null?"default":"outline",onClick:()=>b(null),className:"text-sm whitespace-nowrap",size:"sm",children:"Semua"}),M.map(s=>e.jsx(l,{variant:m===s.id?"default":"outline",onClick:()=>b(s.id),className:"text-sm whitespace-nowrap",size:"sm",children:s.name},s.id))]})]})}),e.jsx("section",{id:"products",className:"py-6 sm:py-8 md:py-10",children:e.jsxs("div",{className:"container mx-auto px-3 sm:px-4",children:[e.jsxs("div",{className:"mb-4 flex items-center justify-between sm:mb-6",children:[e.jsx("h2",{className:"text-lg font-semibold sm:text-xl md:text-2xl",children:"Featured Products"}),m===null&&e.jsx(l,{variant:"outline",size:"sm",asChild:!0,className:"text-xs sm:text-sm",children:e.jsxs(r,{href:"#",className:"flex items-center",children:["View All ",e.jsx(W,{className:"ml-1 h-3 w-3 sm:h-4 sm:w-4"})]})})]}),f.length===0?e.jsx("div",{className:"py-8 text-center",children:e.jsx("p",{className:"text-sm text-gray-500 sm:text-base",children:"No products found. Try a different search."})}):e.jsx("div",{className:"grid grid-cols-2 gap-2 sm:gap-3 md:grid-cols-3 md:gap-4 lg:grid-cols-4 lg:gap-5",children:f.map(s=>e.jsxs(Q,{className:"flex h-full flex-col overflow-hidden border-gray-200",children:[e.jsxs("div",{className:"group relative aspect-square overflow-hidden bg-gray-100",children:[s.image?e.jsx("img",{src:s.image,alt:s.name,className:"h-full w-full object-cover transition-transform group-hover:scale-105",loading:"lazy"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center bg-gray-200",children:e.jsx("span",{className:"text-xs text-gray-400",children:"No image"})}),e.jsx("div",{className:"absolute top-2 right-2 opacity-80 transition-opacity",children:e.jsx("button",{className:"flex h-6 w-6 items-center justify-center rounded-full bg-white shadow hover:bg-gray-100 sm:h-7 sm:w-7","aria-label":"Add to wishlist",onClick:()=>G(s.id),children:e.jsx(B,{className:`h-3 w-3 sm:h-3.5 sm:w-3.5 ${h.includes(s.id)?"fill-red-500 text-red-500":"text-gray-600"}`})})}),s.stock<=5&&s.stock>0&&e.jsx("div",{className:"absolute top-2 left-2",children:e.jsxs(u,{variant:"destructive",className:"px-1 py-0.5 text-xs",children:["Sisa ",s.stock]})})]}),e.jsxs("div",{className:"flex flex-grow flex-col p-2 sm:p-3",children:[e.jsxs("div",{className:"mb-1",children:[s.category&&e.jsx("span",{className:"text-xs text-gray-500",children:s.category}),e.jsx("h3",{className:"line-clamp-2 text-xs font-medium sm:text-sm",children:s.name})]}),e.jsx("p",{className:"mb-2 line-clamp-2 text-xs text-gray-600 sm:mb-3",children:s.description}),e.jsxs("div",{className:"mt-auto flex flex-col gap-1",children:[e.jsx("span",{className:"text-xs font-bold sm:text-sm md:text-base",children:H(s.price).replace(",00","")}),e.jsx(l,{onClick:()=>E(s.id),disabled:s.stock<=0,variant:s.stock<=0?"outline":"default",size:"sm",className:"h-7 w-full text-xs",children:s.stock>0?"Masukkan Keranjang":"Out of Stock"})]})]})]},s.id))})]})}),e.jsx("section",{className:"bg-white py-8 sm:py-10 md:py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h2",{className:"mb-8 text-center text-xl font-semibold sm:mb-10 sm:text-2xl",children:"Mengapa Memilih Kami?"}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-3 md:gap-8",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-primary/10 mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full sm:mb-4 sm:h-16 sm:w-16",children:e.jsx(_,{className:"text-primary h-6 w-6 sm:h-8 sm:w-8"})}),e.jsx("h3",{className:"mb-1 text-base font-semibold sm:mb-2 sm:text-lg",children:"Pengiriman Cepat"}),e.jsx("p",{className:"text-xs text-gray-600 sm:text-sm",children:"Kami menyediakan layanan pengiriman cepat dan tepat waktu ke berbagai wilayah dengan jaminan keamanan produk."})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-primary/10 mx-auto mb-3 flex h-12 w-12 items-center justify-center rounded-full sm:mb-4 sm:h-16 sm:w-16",children:e.jsx($,{className:"text-primary h-6 w-6 sm:h-8 sm:w-8"})}),e.jsx("h3",{className:"mb-1 text-base font-semibold sm:mb-2 sm:text-lg",children:"Kualitas Terjamin"}),e.jsx("p",{className:"text-xs text-gray-600 sm:text-sm",children:"Produk kami dibuat dengan standar tinggi, menggunakan bahan berkualitas untuk memastikan ketahanan dan daya tahan terbaik."})]}),e.jsx("div",{className:"text-center sm:col-span-2 md:col-span-1"}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"bg-primary/10 mx-auto mb-4 flex h-16 w-16 items-center justify-center rounded-full",children:e.jsx("svg",{className:"text-primary h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 10h18M7 15h1m4 0h1m-7 4h12a3 3 0 003-3V8a3 3 0 00-3-3H6a3 3 0 00-3 3v8a3 3 0 003 3z"})})}),e.jsx("h3",{className:"mb-2 text-lg font-semibold",children:"Transaksi Aman"}),e.jsx("p",{className:"text-gray-600",children:"Kami menyediakan berbagai metode pembayaran yang aman dan terenkripsi untuk kenyamanan serta perlindungan pelanggan."})]})]})]})}),e.jsx("footer",{className:"bg-gray-800 py-12 text-white",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-3",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"mb-4 text-xl font-semibold",children:"PT. Menara Galvalum"}),e.jsx("p",{className:"text-gray-300",children:"Your one-stop shop for all your shopping needs. Fast delivery, secure payments, and excellent customer service."})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 text-lg font-semibold",children:"Quick Links"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"About Us"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Contact"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"FAQs"})}),e.jsx("li",{children:e.jsx("a",{href:"#",className:"text-gray-300 hover:text-white",children:"Privacy Policy"})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"mb-4 text-lg font-semibold",children:"Contact Info"}),e.jsxs("address",{className:"text-gray-300 not-italic",children:[e.jsx("p",{children:"123 Shop Street"}),e.jsx("p",{children:"Jakarta, Indonesia"}),e.jsx("p",{className:"mt-2",children:"Email: info@PT. Menara Galvalum.com"}),e.jsx("p",{children:"Phone: (123) 456-7890"})]})]})]}),e.jsx("div",{className:"mt-8 border-t border-gray-700 pt-8 text-center text-gray-400",children:e.jsxs("p",{children:["© ",new Date().getFullYear()," PT. Menara Galvalum. All rights reserved."]})})]})}),e.jsx(D,{isOpen:P,onClose:()=>x(!1),items:T,fetchCart:c})]})]})}export{ne as default};
