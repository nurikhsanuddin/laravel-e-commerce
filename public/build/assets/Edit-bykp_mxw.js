import{r as b,m as w,j as e,L as C,$ as S}from"./app-CL8bQxlr.js";import{B as x}from"./createLucideIcon-B3Iz-h8N.js";import{C as P,a as k,b as F,c as _}from"./card-Bi6v5dWj.js";import{I as d}from"./input-B0ncZNis.js";import{L as r}from"./label-DzrpR254.js";import{S as I,a as L,b as D,c as E,d as $}from"./select-Dhqvifwe.js";import{T}from"./textarea-CueGrQDh.js";import{A as R}from"./app-sidebar-layout-DDY3wOZs.js";import{F as A}from"./ArrowLeftIcon-Dj3p07N0.js";import"./index-C0ENdGIb.js";import"./index-JnR7gfV7.js";import"./index-Cl3G-rYn.js";import"./x-UdVWHoq3.js";import"./truck-BB5-vzdL.js";import"./chevron-right-DjiEVRJu.js";function Z({product:i,categories:p}){const g=[{title:"Dashboard",href:"/dashboard"},{title:"Products",href:"/products"},{title:i.name,href:`/products/${i.id}`},{title:"Edit",href:`/products/${i.id}/edit`}],[n,j]=b.useState(i.image?`/storage/${i.image}`:null),{data:c,setData:a,errors:s,post:u,processing:v}=w({_method:"PUT",name:i.name||"",description:i.description||"",price:String(i.price)||"",stock:String(i.stock)||"",category_id:String(i.category_id)||"",image:null,weight:i.weight?String(i.weight):"",dimensions:i.dimensions||""}),N=t=>{t.preventDefault(),u(`/products/${i.id}`)},f=t=>{var m;const l=(m=t.target.files)==null?void 0:m[0];if(l){a("image",l);const o=new FileReader;o.onload=y=>{var h;j((h=y.target)==null?void 0:h.result)},o.readAsDataURL(l)}};return e.jsxs(R,{breadcrumbs:g,children:[e.jsx(C,{title:"Edit Product"}),e.jsxs("div",{className:"flex flex-col gap-6 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("h1",{className:"text-foreground text-2xl font-bold",children:["Edit Product: ",i.name]}),e.jsx(x,{variant:"outline",size:"sm",asChild:!0,children:e.jsxs(S,{href:"/products",children:[e.jsx(A,{className:"mr-2 h-4 w-4"}),"Back to Products"]})})]}),e.jsxs(P,{children:[e.jsx(k,{children:e.jsx(F,{children:"Product Information"})}),e.jsx(_,{children:e.jsxs("form",{onSubmit:N,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"name",children:"Product Name"}),e.jsx(d,{id:"name",value:c.name,onChange:t=>a("name",t.target.value),className:s.name?"border-destructive":""}),s.name&&e.jsx("p",{className:"text-destructive text-sm",children:s.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"price",children:"Price"}),e.jsx(d,{id:"price",type:"number",step:"0.01",value:c.price,onChange:t=>a("price",t.target.value),className:s.price?"border-destructive":""}),s.price&&e.jsx("p",{className:"text-destructive text-sm",children:s.price})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"stock",children:"Stock"}),e.jsx(d,{id:"stock",type:"number",value:c.stock,onChange:t=>a("stock",t.target.value),className:s.stock?"border-destructive":""}),s.stock&&e.jsx("p",{className:"text-destructive text-sm",children:s.stock})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"category_id",children:"Category"}),e.jsxs(I,{value:c.category_id,onValueChange:t=>a("category_id",t),children:[e.jsx(L,{className:s.category_id?"border-destructive":"",children:e.jsx(D,{placeholder:"Select a category"})}),e.jsx(E,{children:p.map(t=>e.jsx($,{value:String(t.id),children:t.name},t.id))})]}),s.category_id&&e.jsx("p",{className:"text-destructive text-sm",children:s.category_id})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"description",children:"Description"}),e.jsx(T,{id:"description",value:c.description,onChange:t=>a("description",t.target.value),rows:4,className:s.description?"border-destructive":""}),s.description&&e.jsx("p",{className:"text-destructive text-sm",children:s.description})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"weight",children:"Weight (kg)"}),e.jsx(d,{id:"weight",type:"number",step:"0.01",value:c.weight,onChange:t=>a("weight",t.target.value),className:s.weight?"border-destructive":""}),s.weight&&e.jsx("p",{className:"text-destructive text-sm",children:s.weight})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"dimensions",children:"Dimensions (L x W x H)"}),e.jsx(d,{id:"dimensions",value:c.dimensions,onChange:t=>a("dimensions",t.target.value),placeholder:"e.g. 10 x 5 x 3 cm",className:s.dimensions?"border-destructive":""}),s.dimensions&&e.jsx("p",{className:"text-destructive text-sm",children:s.dimensions})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"image",children:"Product Image"}),e.jsx(d,{id:"image",type:"file",accept:"image/*",onChange:f,className:s.image?"border-destructive":""}),s.image&&e.jsx("p",{className:"text-destructive text-sm",children:s.image}),n&&e.jsx("div",{className:"mt-2",children:e.jsx("img",{src:n,alt:"Product preview",className:"h-32 w-32 rounded-md object-cover"})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx(x,{type:"submit",disabled:v,children:"Update Product"})})]})})]})]})]})}export{Z as default};
