import{r as u,j as e,m as V,L as U}from"./app-CL8bQxlr.js";import{c as w}from"./index-BaUo0c8x.js";import{c as P,u as I,a as S,B as _,f as g}from"./createLucideIcon-B3Iz-h8N.js";import{C}from"./card-Bi6v5dWj.js";import{L as b}from"./label-DzrpR254.js";import{c as E,u as $,a as H,b as G,R as W,I as X,d as y,P as Y,e as J,S as Q}from"./index-JnR7gfV7.js";import{P as N}from"./index-C0ENdGIb.js";import{u as Z}from"./index-Cl3G-rYn.js";import{T as ee}from"./textarea-CueGrQDh.js";import{C as se}from"./chevron-left-Cp4zzHqL.js";import{T as ae}from"./truck-BB5-vzdL.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const re=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],te=P("Banknote",re);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],ne=P("Circle",oe);var R="Radio",[ie,A]=G(R),[ce,de]=ie(R),D=u.forwardRef((a,n)=>{const{__scopeRadio:r,name:d,checked:t=!1,required:o,disabled:i,value:p="on",onCheck:l,form:m,...h}=a,[c,x]=u.useState(null),s=I(n,j=>x(j)),f=u.useRef(!1),v=c?m||!!c.closest("form"):!0;return e.jsxs(ce,{scope:r,checked:t,disabled:i,children:[e.jsx(N.button,{type:"button",role:"radio","aria-checked":t,"data-state":T(t),"data-disabled":i?"":void 0,disabled:i,value:p,...h,ref:s,onClick:y(a.onClick,j=>{t||l==null||l(),v&&(f.current=j.isPropagationStopped(),f.current||j.stopPropagation())})}),v&&e.jsx(le,{control:c,bubbles:!f.current,name:d,value:p,checked:t,required:o,disabled:i,form:m,style:{transform:"translateX(-100%)"}})]})});D.displayName=R;var L="RadioIndicator",M=u.forwardRef((a,n)=>{const{__scopeRadio:r,forceMount:d,...t}=a,o=de(L,r);return e.jsx(Y,{present:d||o.checked,children:e.jsx(N.span,{"data-state":T(o.checked),"data-disabled":o.disabled?"":void 0,...t,ref:n})})});M.displayName=L;var le=a=>{const{control:n,checked:r,bubbles:d=!0,...t}=a,o=u.useRef(null),i=Z(r),p=J(n);return u.useEffect(()=>{const l=o.current,m=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(m,"checked").set;if(i!==r&&c){const x=new Event("click",{bubbles:d});c.call(l,r),l.dispatchEvent(x)}},[i,r,d]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...t,tabIndex:-1,ref:o,style:{...a.style,...p,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function T(a){return a?"checked":"unchecked"}var ue=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],k="RadioGroup",[pe,Ge]=G(k,[E,A]),B=E(),F=A(),[me,xe]=pe(k),O=u.forwardRef((a,n)=>{const{__scopeRadioGroup:r,name:d,defaultValue:t,value:o,required:i=!1,disabled:p=!1,orientation:l,dir:m,loop:h=!0,onValueChange:c,...x}=a,s=B(r),f=$(m),[v,j]=H({prop:o,defaultProp:t,onChange:c});return e.jsx(me,{scope:r,name:d,required:i,disabled:p,value:v,onValueChange:j,children:e.jsx(W,{asChild:!0,...s,orientation:l,dir:f,loop:h,children:e.jsx(N.div,{role:"radiogroup","aria-required":i,"aria-orientation":l,"data-disabled":p?"":void 0,dir:f,...x,ref:n})})})});O.displayName=k;var q="RadioGroupItem",z=u.forwardRef((a,n)=>{const{__scopeRadioGroup:r,disabled:d,...t}=a,o=xe(q,r),i=o.disabled||d,p=B(r),l=F(r),m=u.useRef(null),h=I(n,m),c=o.value===t.value,x=u.useRef(!1);return u.useEffect(()=>{const s=v=>{ue.includes(v.key)&&(x.current=!0)},f=()=>x.current=!1;return document.addEventListener("keydown",s),document.addEventListener("keyup",f),()=>{document.removeEventListener("keydown",s),document.removeEventListener("keyup",f)}},[]),e.jsx(X,{asChild:!0,...p,focusable:!i,active:c,children:e.jsx(D,{disabled:i,required:o.required,checked:c,...l,...t,name:o.name,ref:h,onCheck:()=>o.onValueChange(t.value),onKeyDown:y(s=>{s.key==="Enter"&&s.preventDefault()}),onFocus:y(t.onFocus,()=>{var s;x.current&&((s=m.current)==null||s.click())})})})});z.displayName=q;var he="RadioGroupIndicator",K=u.forwardRef((a,n)=>{const{__scopeRadioGroup:r,...d}=a,t=F(r);return e.jsx(M,{...t,...d,ref:n})});K.displayName=he;var fe=O,ve=z,je=K;function ge({className:a,...n}){return e.jsx(fe,{"data-slot":"radio-group",className:S("grid gap-3",a),...n})}function be({className:a,...n}){return e.jsx(ve,{"data-slot":"radio-group-item",className:S("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...n,children:e.jsx(je,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:e.jsx(ne,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}function Ae({cart:a,subtotal:n,shipping_cost:r,total:d}){const t=Object.values(a),[o,i]=u.useState(!1),{data:p,setData:l,post:m,processing:h,errors:c}=V({shipping_address:"",payment_method:"credit_card"}),x=s=>{s.preventDefault(),i(!0),m(route("checkout.process"),{onSuccess:()=>{w.success("Order placed successfully!"),i(!1)},onError:()=>{w.error("There was an error processing your order."),i(!1)}})};return e.jsxs(e.Fragment,{children:[e.jsx(U,{title:"Checkout"}),e.jsx("div",{className:"min-h-screen bg-gray-50 py-12",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("div",{className:"mb-8",children:e.jsx(_,{variant:"outline",asChild:!0,children:e.jsxs("a",{href:route("home"),children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),"Kembali ke Belanja"]})})}),e.jsx("h1",{className:"mb-8 text-3xl font-bold",children:"Checkout"}),e.jsxs("div",{className:"grid grid-cols-1 gap-8 lg:grid-cols-12",children:[e.jsx("div",{className:"lg:col-span-7",children:e.jsxs(C,{className:"overflow-hidden",children:[e.jsx("div",{className:"border-b p-6",children:e.jsxs("h2",{className:"flex items-center text-lg font-semibold",children:[e.jsx(ae,{className:"mr-2 h-5 w-5"}),"Informasi Pengiriman"]})}),e.jsxs("form",{onSubmit:x,className:"space-y-6 p-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(b,{htmlFor:"shipping_address",children:"Alamat Lengkap"}),e.jsx(ee,{id:"shipping_address",value:p.shipping_address,onChange:s=>l("shipping_address",s.target.value),placeholder:"Masukkan alamat lengkap Anda",required:!0,rows:4,className:c.shipping_address?"border-red-500":""}),c.shipping_address&&e.jsx("p",{className:"text-sm text-red-500",children:c.shipping_address})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(b,{children:"Metode Pembayaran"}),e.jsx(ge,{value:p.payment_method,onValueChange:s=>l("payment_method",s),className:"space-y-3",children:e.jsxs("div",{className:"flex items-center space-x-3 rounded-md border p-3",children:[e.jsx(be,{value:"bank_transfer",id:"bank_transfer"}),e.jsxs(b,{htmlFor:"bank_transfer",className:"flex items-center",children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),"Transfer Bank"]})]})}),c.payment_method&&e.jsx("p",{className:"text-sm text-red-500",children:c.payment_method})]}),e.jsx(_,{type:"submit",className:"w-full",disabled:h||o,children:h||o?"Processing...":"Buat Pesanan"})]})]})}),e.jsx("div",{className:"lg:col-span-5",children:e.jsxs(C,{className:"sticky top-4",children:[e.jsx("div",{className:"border-b p-4 sm:p-6",children:e.jsxs("h2",{className:"flex items-center text-lg font-semibold",children:[e.jsx(Q,{className:"mr-2 h-5 w-5"}),"Ringkasan Pesanan"]})}),e.jsxs("div",{className:"p-4 sm:p-6",children:[e.jsx("div",{className:"space-y-4",children:t.map(s=>e.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[e.jsx("div",{className:"h-14 w-14 flex-shrink-0 overflow-hidden rounded-md bg-gray-100 sm:h-16 sm:w-16",children:s.image?e.jsx("img",{src:s.image,alt:s.name,className:"h-full w-full object-cover",loading:"lazy"}):e.jsx("div",{className:"flex h-full w-full items-center justify-center",children:e.jsx("span",{className:"text-xs text-gray-400 sm:text-sm",children:"No image"})})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h3",{className:"truncate text-sm font-medium sm:text-base",children:s.name}),e.jsxs("div",{className:"mt-1 flex flex-col text-xs text-gray-500 sm:flex-row sm:items-center sm:justify-between sm:text-sm",children:[e.jsxs("span",{children:[s.quantity," x ",g(s.price)]}),e.jsx("span",{className:"font-medium",children:g(s.price*s.quantity)})]})]})]},s.id))}),e.jsxs("div",{className:"mt-6 space-y-3 border-t pt-4",children:[e.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[e.jsx("span",{className:"text-gray-600",children:"Subtotal"}),e.jsx("span",{children:g(n)})]}),e.jsxs("div",{className:"flex justify-between text-sm sm:text-base",children:[e.jsx("span",{className:"text-gray-600",children:"Pengiriman"}),e.jsx("span",{children:g(r)})]}),e.jsxs("div",{className:"flex justify-between border-t pt-3 text-base font-medium sm:text-lg",children:[e.jsx("span",{children:"Total"}),e.jsx("span",{children:g(d)})]})]})]})]})})]})]})})]})}export{Ae as default};
